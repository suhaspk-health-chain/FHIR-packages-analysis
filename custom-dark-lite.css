/* ================================
   Lite Dark Theme for Health Chain
   ================================ */

/* ---------- Base Colors ---------- */
:root{
  --background-main:#0c223f;
  --background-panel:#123358;
  --text-main:#f0f4f8;
  --text-muted:#c2cbd8;
  --accent-main:#f26d21;
  --accent-hover:#ff8c42;
  --border-color:#305070;

  /* Code colors */
  --code-bg:#0f2038;
  --code-fg:#e9f2ff;
  --inline-code-bg:#13294b;
  --inline-code-fg:#ffe9c4;

  /* Navbar / TOC */
  --navbar-bg:#0f2240;
  --navbar-link:#eaf0f6;
  --toc-bg:#122a4a;
}

/* ---------- Base Layout ---------- */
body{
  background:var(--background-main);
  color:var(--text-main);
  font-family:'Segoe UI','Helvetica Neue',sans-serif;
  line-height:1.6;
}

/* ---------- Headings ---------- */
h1,h2,h3,h4,h5,h6{
  color:#fff;
  font-weight:600;
  margin-top:1.25em;
  margin-bottom:.5em;
}
h1{
  border-bottom:2px solid var(--accent-main);
  padding-bottom:.3em;
}

/* ---------- Navbar (fixed contrast) ---------- */
.navbar,.quarto-navbar{
  background:var(--navbar-bg) !important;
  border-bottom:2px solid var(--accent-main);
}
.navbar a,.navbar-brand,.quarto-navbar a{
  color:var(--navbar-link) !important;
}
.navbar a:hover{ color:var(--accent-hover) !important; }

/* ---------- Footer ---------- */
footer,.page-footer{
  background:#1b3558;
  color:var(--text-muted);
  padding:1rem 0;
  border-top:2px solid var(--accent-main);
}

/* ---------- Links ---------- */
a{ color:var(--accent-main); text-decoration:none; }
a:hover{ color:var(--accent-hover); text-decoration:underline; }

/* ---------- Buttons ---------- */
.btn,.btn-primary{
  background:var(--accent-main);
  border-color:var(--accent-main);
  color:#fff;
}
.btn:hover{
  background:var(--accent-hover);
  border-color:var(--accent-hover);
  color:#fff;
}

/* =========================================================
   CODE & OUTPUT â€” make source, output, and inline distinct
   ========================================================= */

/* Inline code (in paragraphs) */
p code, li code, td code, th code{
  background:var(--inline-code-bg);
  color:var(--inline-code-fg);
  padding:.15em .35em;
  border-radius:4px;
}

/* Code blocks created by knitr/pandoc */
div.sourceCode,
pre.sourceCode,
pre{ 
  background:var(--code-bg) !important;
  color:var(--code-fg) !important;
  border-radius:6px;
  border:1px solid var(--border-color);
}

/* Avoid double backgrounds inside <pre><code> */
pre code{ background:transparent !important; }

/* R output blocks (console output) */
pre.r-output, pre.console, pre.output{
  background:var(--background-panel) !important;
  color:#e7eefc !important;
  border-radius:6px;
  border:1px solid var(--border-color);
}

/* Pandoc/Highlight token colors (works with default highlighters) */
code span.kw, .sourceCode span.kw{ color:#86c5ff; }        /* keywords */
code span.cf, .sourceCode span.cf{ color:#ffcc88; }        /* control flow */
code span.fu, .sourceCode span.fu{ color:#ffd479; }        /* functions */
code span.st, .sourceCode span.st{ color:#c3fba4; }        /* strings */
code span.dv, .sourceCode span.dv{ color:#a3daff; }        /* numbers */
code span.op, .sourceCode span.op{ color:#fff; }           /* operators */
code span.va, .sourceCode span.va{ color:#ffd1dc; }        /* variables */
code span.co, .sourceCode span.co{ color:#9fb3c8; font-style:italic; } /* comments */

/* Line numbers (if enabled) */
pre.numberSource a.sourceLine::before{
  color:#7fa3c7 !important;
  background:transparent !important;
}

/* ---------- Tables ---------- */
table{
  width:100%;
  border-collapse:collapse;
  background:var(--background-panel);
  color:var(--text-main);
}
th,td{ border:1px solid var(--border-color); padding:.75rem; }
thead{ background:#1d4169; }

/* ---------- Blockquotes ---------- */
blockquote{
  border-left:4px solid var(--accent-main);
  background:#182c49;
  padding:1em;
  color:#ddd;
  font-style:italic;
}

/* ---------- Cards & Panels ---------- */
.card,.panel{
  background:var(--background-panel);
  color:var(--text-main);
  border:1px solid var(--border-color);
  border-radius:8px;
  box-shadow:0 2px 10px rgba(0,0,0,.3);
}

/* ---------- TOC (floating) ---------- */
#TOC{
  background:var(--toc-bg);
  border:1px solid var(--border-color);
  border-radius:8px;
}
#TOC a{ color:#dce6f1; }
#TOC a:hover{ color:var(--accent-main); }

/* ---------- Forms ---------- */
input,select,textarea{
  background:#19324e;
  color:#fff;
  border:1px solid var(--accent-main);
  border-radius:4px;
}
input:focus,select:focus,textarea:focus{
  border-color:var(--accent-hover);
  box-shadow:0 0 5px var(--accent-main);
}

/* ---------- Rules, images, scrollbars ---------- */
hr{ border:0; height:1px; background:var(--border-color); }
img{ max-width:100%; height:auto; border-radius:6px; }
::-webkit-scrollbar{ width:10px; }
::-webkit-scrollbar-track{ background:#102a4a; }
::-webkit-scrollbar-thumb{ background:var(--accent-main); }
::-webkit-scrollbar-thumb:hover{ background:var(--accent-hover); }

/* ---------- Navbar image sizes ---------- */
.navbar-brand img{ max-height:36px; margin-right:10px; vertical-align:middle; }
.navbar img{ max-height:28px; padding:0 8px; }

/* =========================================================
   FIXES to beat Bootswatch (Cosmo) overrides
   Place at end so they win the cascade
   ========================================================= */

/* Stronger selectors for code blocks */
html body div.sourceCode,
html body pre.sourceCode,
html body pre > code.sourceCode{
  background-color:#1a2e4a !important;
  color:#e8f0ff !important;
  border:1px solid #324a6b !important;
  border-radius:8px !important;
}

/* Ensure inline code stays readable */
html body p code:not(.sourceCode),
html body li code:not(.sourceCode),
html body td code:not(.sourceCode),
html body th code:not(.sourceCode){
  background-color:#233a60 !important;
  color:#ffddb0 !important;
  padding:.2em .4em !important;
  border-radius:4px !important;
  font-weight:500 !important;
}

/* Distinguish console/output from input */
html body pre.output,
html body pre.console,
html body pre.r-output{
  background-color:#142945 !important;
  color:#dce6f5 !important;
  border-left:4px solid var(--accent-main) !important;
  border:1px solid #324a6b !important;
  border-radius:8px !important;
}

/* Stop Cosmo from adding light backgrounds to code */
html body code,
html body pre,
html body kbd,
html body samp{
  background-image:none !important;
  box-shadow:none !important;
}

/* Consistent spacing & scrolling for code areas */
html body pre.sourceCode,
html body pre.output,
html body pre.console{
  padding:.85em 1em !important;
  font-size:15px !important;
  line-height:1.5 !important;
  overflow-x:auto !important;
}

/* Dark-mode friendly captions (kable/figures) */
caption, .table-caption{
  color:#ffffff !important;
  font-weight:600 !important;
  text-align:center !important;
  margin-bottom:.5em !important;
}
