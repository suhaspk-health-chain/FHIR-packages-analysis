---
title: "Analysis of FHIR packages based on the FHIR versions"
author: "Suhas. P. K"
date: "`r Sys.Date()`"
output:
  html_document:
    theme:
      version: 5
      bootswatch: cosmo    # ← base theme
    toc: yes
    toc_float:
      collapsed: true
    css: custom-dark.css
    self_contained: false   # ← prevents missing .woff2 error
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

```

# Introduction

The **Fast Healthcare Interoperability Resources (FHIR®)** standard is the foundation for modern health data exchange. With the growing number of implementation guides (IGs), extensions, and reusable data artifacts published across the healthcare ecosystem, understanding how these packages evolve is essential for data quality, interoperability, and analytics readiness.

This project focuses on **Exploratory Data Analysis (EDA)** of the FHIR Package Index - a comprehensive dataset of published FHIR packages hosted at [packages2.fhir.org/xig](https://packages2.fhir.org/xig).
Each package in this dataset represents a distinct FHIR resource collection, containing metadata such as version, working group, publication date, and development maturity level (FMM).

## Objectives

The primary goals of this analysis are to:

- Explore the structure and composition of FHIR packages across different versions.

- Identify publication trends - including the number of active vs. draft packages and their distribution over time.

- Assess maturity and adoption patterns using the FHIR Maturity Model (FMM) levels.

- Understand working group contributions and how they align with key healthcare domains (clinical, administrative, financial).

- Visualize the ecosystem to provide actionable insights for interoperability stakeholders, developers, and data scientists.

---
## Data Collection

The dataset used in this analysis was collected directly from the FHIR Package Index hosted at __packages2.fhir.org/xig__, an official registry maintained by HL7®. This index lists all publicly available **FHIR Implementation Guides (IGs)** and associated resource packages. Each entry in the index includes metadata describing the package name, version, identity, publication status, working group, FHIR maturity level (FMM), release date, realm, and authorship.

To build the dataset, an automated [web-scraping script](./fhir_pkg_data_collection.R) was developed in R using the `rvest`, `httr2`, and `jsonlite` libraries. The script iteratively navigates through the paginated web interface (200 entries per page), extracts each package’s metadata, and compiles them into structured JSON and NDJSON formats. This approach ensures that the data is comprehensive and up to date with the latest package releases.

The final dataset contains over **75,000 FHIR package records**, representing various **FHIR versions** and working groups across multiple healthcare domains. These records were then transformed into a dataframe within R for further exploration and visualization. The collection process preserves transparency and reproducibility, making the dataset suitable for large-scale analysis and trend identification within the FHIR ecosystem.



## Libraries

```{r, echo=TRUE, message=FALSE, warning=FALSE}
# Data handling & Manipulation
library(jsonlite)
library(dplyr)
library(tidyr)
library(readr)
library(stringr)
library(lubridate)

# Visualization
library(ggplot2)
library(ggdark)
library(scales)
library(viridis)

# EDA Utilities
library(skimr)
library(DataExplorer)
library(summarytools)

# Table Rendering & Reporting
library(knitr)
library(kableExtra)
library(DT)
```

# About the Data
```{r data-summary, warning=FALSE}
# read full JSON array
data <- fromJSON("xig_resources.json", flatten = TRUE)

# convert to dataframe
df <- as.data.frame(data)

glimpse(df)
```

Using `skimr` to understand the data summary in a tabular form

```{r data-summary-table, message=FALSE, warning=FALSE}
skimmed <- skim(df)

kable(
  skimmed,
  format = "html",
  booktabs = TRUE
) %>%
  kable_styling(
    full_width = FALSE,
    font_size = 12,
    bootstrap_options = c("striped", "condensed", "responsive")
  ) %>%
  scroll_box(width = "100%", height = "500px")
```

### Data Summary Highlights

**Total Variables**: 11 (all character type)

**Total Records**: ~75,000 FHIR package entries

### Core Fields

- `package_text` – Fully complete (no missing values); contains 1,096 unique package names.

- `package_href` – About 30% missing (complete_rate = 0.70); 601 unique hyperlinks to package definitions.

- `version` – Consistently present with 5 unique values (likely representing FHIR versions like R2–R5).

- `identity_text` / `identity_href` – Both complete and unique for almost every record (over 70k unique identifiers).

### Descriptive Metadata

- `name_title` – Fully populated, contains descriptive names or titles (up to 261 characters); 66k unique entries.

- `status` – 9 unique values (e.g., active, draft, retired), with full completeness across records.

- `fmm` (FHIR Maturity Model) – Mostly empty (~90% blank); only 7 unique maturity levels recorded.

- `wg` (Working Group) – Sparse data; 30 unique working groups identified, but ~65k empty values.

- `date` – Present for all records, with 193 unique date entries (likely publication dates).

- `realm` – Optional metadata; 39 unique realms (e.g., US, AU, UK), ~22k missing.

- `auth` – Author or organization field, lightly populated (only 5 unique values).

### Overall Data Quality

- Core technical identifiers (`identity_text`, `identity_href`) are strong and unique.

- Descriptive and governance fields (`wg`, `fmm`, `realm`, `auth`) have high sparsity.

- Excellent completeness for essential attributes (`name`, `version`, `status`).

- Text length variability indicates diverse and detailed metadata descriptions.

### Data Quality Assessment

The FHIR package dataset demonstrates a generally strong structural quality, with all **11 variables** consistently defined and fully aligned across nearly 75,000 records. Core technical fields such as `identity_text`, `identity_href`, `package_text`, and `version` show excellent completeness and uniqueness, ensuring reliable identification of each FHIR package. These attributes form the backbone of the dataset and can be confidently used for trend, frequency, and relationship analyses.

However, several descriptive and governance-related attributes - notably `fmm`, `wg`, `realm`, and `auth` - exhibit significant sparsity. The FHIR Maturity Model (`fmm`) field is largely missing, limiting the ability to analyze maturity progression across resources. Similarly, `wg` (Working Group) and realm values are incomplete for many packages, suggesting gaps in metadata publication or inconsistencies in source documentation.

Textual attributes such as `name_title` and `status` are well-populated and diverse, offering good analytical potential for classification and pattern exploration. Overall, while the dataset provides robust coverage for technical and structural aspects, additional enrichment or cross-referencing may be necessary for deeper organizational or maturity-related analyses. This quality profile makes the dataset ideal for exploratory visualization, version distribution analysis, and metadata completeness assessment across the FHIR ecosystem.

